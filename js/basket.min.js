!function(){"use strict";var t=document.querySelector("#circle"),e=document.querySelector(".basket__price-btn"),c=document.querySelector(".all-price"),a=document.querySelector(".basket__item"),s=localStorage.getItem("basket");if(s){var n=JSON.parse(s);(function t(s){var n=document.querySelector(".basket__content");n.innerHTML="";var i=0;0===s.length?e.style.display="none":(s.forEach((function(t,e){var c=function(t,e){return(t.quantity*parseFloat(t.price.replace("$",""))).toFixed(2),'\n       <div class="basket__product ">\n          <div class="basket__product-imgbox">\n             <img class="basket__product-img" src="'.concat(t.image,'" alt="').concat(t.title,'">\n          </div>\n          <div class="basket__product-item">\n             <div class="basket__product-row">\n                <p class="basket__product-text text">').concat(t.text,'</p>\n                <h3 class="basket__product-title title">').concat(t.title,'</h3>\n                <div class="basket__product-delete">\n                   <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                      <path d="M1 13L13 0.999998" stroke="#C7C7C7" stroke-width="2" />\n                      <path d="M13 13L1 0.999999" stroke="#C7C7C7" stroke-width="2" />\n                   </svg>\n                </div>\n             </div>\n             <div class="basket__product-row _subrow">\n                <div class="basket__product-controls ">\n                   <button class="basket__product-decrem" data-index="').concat(e,'"><img src="images/minus.svg"></button>\n                   <p class="basket__product-number">').concat(t.quantity,'</p>\n                   <button class="basket__product-increm" data-index="').concat(e,'"><img src="images/plus.svg"></button>\n                </div>\n                <p class="basket__product-price">').concat(t.price,'</p>\n             </div>\n             <div class="basket__product-line line"></div>\n             <div class="basket__product-subrow">\n                <input type="checkbox" id="check">\n                <label for="check"></label>\n                <p class="basket__product-info text">Autoship every</p>\n                <div class="basket__select">\n                   <div class="basket__current text">').concat(t.selectedVal,'</div>\n                   <div class="basket__arrow">\n                      <img src="images/down-arrow.svg" alt="arrow">\n                   </div>\n                   <ul class="basket__list">\n                      <li class="basket__list-item text">10</li>\n                      <li class="basket__list-item text">20</li>\n                      <li class="basket__list-item text">30</li>\n                   </ul>\n                </div>\n                <p class="info__sub-subtext text">days</p>\n             </div>\n          </div>\n       </div>\n       ')}(t,e);n.insertAdjacentHTML("beforeend",c),i+=u(t)})),e.style.display="block");var r=n.querySelectorAll(".basket__product-decrem"),o=n.querySelectorAll(".basket__product-increm"),l=n.querySelectorAll(".basket__product-number"),d=n.querySelectorAll(".basket__product-price");function u(t){var e=t.quantity*parseFloat(t.fixedPrice.replace("$",""));return"7"===t.id&&(e=t.quantity*parseFloat(t.salePrice.replace("$",""))),e}function _(t,e){var c=t.quantity*parseFloat(t.fixedPrice.replace("$",""));"7"===t.id&&(c=t.quantity*parseFloat(t.salePrice.replace("$",""))),e.textContent="$".concat(c.toFixed(2))}function v(t){var e=0;t.forEach((function(t){e+=u(t)})),localStorage.setItem("basket",t),c.textContent="$".concat(e.toFixed(2))}r.forEach((function(t,e){t.addEventListener("click",(function(){s[e].quantity>1&&(s[e].quantity--,l[e].textContent=s[e].quantity,_(s[e],d[e]),v(s),localStorage.setItem("basket",JSON.stringify(s)))}))})),o.forEach((function(t,e){t.addEventListener("click",(function(){s[e].quantity++,l[e].textContent=s[e].quantity,_(s[e],d[e]),v(s),localStorage.setItem("basket",JSON.stringify(s))}))})),c.textContent="$".concat(i.toFixed(2)),document.querySelectorAll(".basket__product-delete").forEach((function(e,c){e.addEventListener("click",(function(){!function(e){var c=localStorage.getItem("basket"),s=[];c&&(s=JSON.parse(c));var n=s.findIndex((function(t){return t.id===e}));if(-1!==n){s.splice(n,1),localStorage.setItem("basket",JSON.stringify(s));var i=document.querySelector(".basket__price-btn"),r=document.querySelector("#circle");s.length>0?r.classList.add("_active"):r.classList.remove("_active"),t(s),0==s.length&&(i.classList.remove("_active"),r.classList.remove("_active"),a.classList.remove("hide"))}}(s[c].id)}))})),e.addEventListener("click",(function(){localStorage.setItem("price",c.textContent),window.location.href="order.html"}));var p=document.querySelectorAll(".basket__current"),b=document.querySelectorAll(".basket__arrow"),k=document.querySelectorAll(".basket__list"),m=document.querySelectorAll(".basket__list-item");p&&p.forEach((function(t,e){t.addEventListener("click",(function(){k[e].classList.toggle("show"),b[e].classList.toggle("rotate")}))})),m&&m.forEach((function(t,e){t.addEventListener("click",(function(){var t=this.textContent;p[e].textContent=t,localStorage.setItem("selectedValue",t),k[e].classList.remove("show"),b[e].classList.remove("rotate")}))}))})(n),n.length>0&&(e.classList.add("_active"),t.classList.add("_active"),a.classList.add("hide"))}}();