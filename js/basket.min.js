!function(){"use strict";var t=document.querySelector("#circle"),e=document.querySelector(".basket__price-btn"),c=document.querySelector(".all-price"),s=document.querySelector(".basket__item"),a=localStorage.getItem("basket");if(a){var n=JSON.parse(a);(function t(a){var n=document.querySelector(".basket__content");n.innerHTML="";var i=0;0===a.length?e.style.display="none":(a.forEach((function(t,e){var c=function(t,e){return'\n       <div class="basket__product ">\n          <div class="basket__product-imgbox">\n             <img class="basket__product-img" src="'.concat(t.image,'" alt="').concat(t.title,'">\n          </div>\n          <div class="basket__product-item">\n             <div class="basket__product-row">\n                <p class="basket__product-text text">').concat(t.text,'</p>\n                <h3 class="basket__product-title title">').concat(t.title,'</h3>\n                <div class="basket__product-delete">\n                   <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">\n                      <path d="M1 13L13 0.999998" stroke="#C7C7C7" stroke-width="2" />\n                      <path d="M13 13L1 0.999999" stroke="#C7C7C7" stroke-width="2" />\n                   </svg>\n                </div>\n             </div>\n             <div class="basket__product-row _subrow">\n                <div class="basket__product-controls ">\n                   <button class="basket__product-decrem" data-index="').concat(e,'"><img src="images/minus.svg"></button>\n                   <p class="basket__product-number">').concat(t.quantity,'</p>\n                   <button class="basket__product-increm" data-index="').concat(e,'"><img src="images/plus.svg"></button>\n                </div>\n                <p class="basket__product-price">').concat(t.price,'</p>\n             </div>\n             <div class="basket__product-line line"></div>\n             <div class="basket__product-subrow">\n                <input type="checkbox" id="check">\n                <label for="check"></label>\n                <p class="basket__product-info text">Autoship every</p>\n                <div class="basket__select  _select">\n                   <div class="basket__current text">').concat(t.selectedVal,'</div>\n                   <div class="basket__arrow">\n                      <img src="images/down-arrow.svg" alt="arrow">\n                   </div>\n                   <ul class="basket__list">\n                      <li class="basket__list-item text">10</li>\n                      <li class="basket__list-item text">20</li>\n                      <li class="basket__list-item text">30</li>\n                   </ul>\n                </div>\n                <p class="info__sub-subtext text">days</p>\n             </div>\n          </div>\n       </div>\n       ')}(t,e);n.insertAdjacentHTML("beforeend",c),i+=u(t)})),e.style.display="block");var r=n.querySelectorAll(".basket__product-decrem"),o=n.querySelectorAll(".basket__product-increm"),l=n.querySelectorAll(".basket__product-number"),d=n.querySelectorAll(".basket__product-price");function u(t){var e=t.quantity*parseFloat(t.price.replace("$",""));return"7"===t.id&&(e=t.quantity*parseFloat(t.salePrice.replace("$",""))),e}function _(t,e){var c=t.quantity*parseFloat(t.price.replace("$",""));"7"===t.id&&(c=t.quantity*parseFloat(t.salePrice.replace("$",""))),e.textContent="$".concat(c.toFixed(2))}function v(t){var e=0;t.forEach((function(t){e+=u(t)})),localStorage.setItem("basket",JSON.stringify(t)),c.textContent="$".concat(e.toFixed(2))}r.forEach((function(t,e){t.addEventListener("click",(function(){a[e].quantity>1&&(a[e].quantity--,l[e].textContent=a[e].quantity,_(a[e],d[e]),v(a),localStorage.setItem("basket",JSON.stringify(a)))}))})),o.forEach((function(t,e){t.addEventListener("click",(function(){a[e].quantity++,l[e].textContent=a[e].quantity,_(a[e],d[e]),v(a),localStorage.setItem("basket",JSON.stringify(a))}))})),c.textContent="$".concat(i.toFixed(2)),document.querySelectorAll(".basket__product-delete").forEach((function(e,c){e.addEventListener("click",(function(){!function(e){var c=localStorage.getItem("basket"),a=[];c&&(a=JSON.parse(c));var n=a.findIndex((function(t){return t.id===e}));if(-1!==n){a.splice(n,1),localStorage.setItem("basket",JSON.stringify(a));var i=document.querySelector(".basket__price-btn"),r=document.querySelector("#circle");a.length>0?r.classList.add("_active"):r.classList.remove("_active"),t(a),0==a.length&&(i.classList.remove("_active"),r.classList.remove("_active"),s.classList.remove("hide"))}}(a[c].id)}))})),e.addEventListener("click",(function(){window.location.href="order.html"}));var b=document.querySelectorAll(".basket__current"),p=document.querySelectorAll(".basket__arrow"),k=document.querySelectorAll(".basket__list"),m=document.querySelectorAll(".basket__list-item");b&&b.forEach((function(t,e){t.addEventListener("click",(function(){k[e].classList.toggle("show"),p[e].classList.toggle("rotate")}))})),m&&m.forEach((function(t,e){t.addEventListener("click",(function(){var t=this.textContent;b[e].textContent=t,localStorage.setItem("selectedValue",t),k[e].classList.remove("show"),p[e].classList.remove("rotate")}))}))})(n),n.length>0&&(e.classList.add("_active"),t.classList.add("_active"),s.classList.add("hide"))}}();